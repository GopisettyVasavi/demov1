<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<title>Renaissance</title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" type="image/x-icon" href="/renaissance/img/renfavicon.ico">
<!-- CSS here -->
<link rel="stylesheet" href="css/bootstrap.min.css">
<link rel="stylesheet" href="css/owl.carousel.min.css">
<link rel="stylesheet" href="css/magnific-popup.css">
<link rel="stylesheet" href="css/font-awesome.min.css">
<link rel="stylesheet" href="css/themify-icons.css">
<link rel="stylesheet" href="css/nice-select.css">
<link rel="stylesheet" href="css/flaticon.css">
<link rel="stylesheet" href="css/gijgo.css">
<link rel="stylesheet" href="css/animate.css">
<link rel="stylesheet" href="css/slicknav.css">
<link rel="stylesheet" href="css/style.css">

</head>

<!-- header-start -->
    <header>
            <div class="header-area ">
            <div class="col-xl-3 col-lg-2">
			<div class="logo">
				<a href="https://reninfo.com.au/"> <img
					src="img/Renaissance_logo.png" alt="" height="30px" width="150px">

				</a>
				
				
			</div>
		</div>
               
            </div>
        </header>
        <!-- header-end -->
	<!-- bradcam_area  -->
	<div class="bradcam_area bradcam_bg_1">
		<div class="container-fluid">
			<div class="row">
				<div class="col-xl-12">
					<div class="bradcam_text">
						<h3>Login</h3>
					</div>
				</div>
			</div>
		</div>
	</div>
<body onload="init()">

<div class="container" style="min-height: 500px">

    <div class="starter-template">
             

        <form class="form-horizontal" id="login-form" >
            <div class="form-group form-group-lg" style="padding-left: 300px">
                <label class="col-sm-2 control-label" style="font-weight:bold">User Name</label>
                <div class="col-sm-6">
                    <input type="text" class="form-control" id="username"/>
                </div>
            </div>

			<div class="form-group form-group-lg" style="padding-left: 300px">
                <label class="col-sm-2 control-label" style="font-weight:bold">Password</label>
                <div class="col-sm-6">
                    <input type="password" class="form-control" id="password"/>
                </div>
            </div>

            <div class="form-group" style="padding-left: 300px">
                <div class="col-sm-offset-2 col-sm-6">
                    <button type="submit" id="bth-login"
                            class="button button-contactForm boxed-btn" onclick="clickonlogin()">Login
                    </button>
                </div>
            </div>
        </form>
<!-- <div class="row" style="padding-left: 330px">
<h6> New User? To register
<a href="#" onclick="register()" style="text-decoration:underline;"> click here.</a></h6>
 
</div> -->
<div class="row" style="padding-left: 330px">
<h6> Need to change password?
<a href="#" onclick="changepassword()" style="text-decoration:underline;"> click here.</a></h6>
 
</div>
	<div id="feedback" style="color: red"></div>
    </div>

</div>

<script type="text/javascript"
        src="webjars/jquery/2.2.4/jquery.min.js"></script>

<script type="text/javascript">
function init(){
	document.getElementById("username").focus();
}
function register(){
	 $.ajax({
	        type: "GET",
	        contentType: "application/json",
	        url: "./registeremployee",
	       // data: JSON.stringify(loginForm),
	       // dataType: 'json',
	        cache: false,
	        timeout: 600000,
	        success: function (data) {
	        	
	           window.location='./registeremployee'

	        },
	        error: function (e) {
	        	 var json = "<h4>Response Error: Error in redirecting.";
	             $('#feedback').html(json);

	        }
	    });
	
}
function changepassword(){
	 $.ajax({
	        type: "GET",
	        contentType: "application/json",
	        url: "./changepassword",
	       // data: JSON.stringify(loginForm),
	       // dataType: 'json',
	        cache: false,
	        timeout: 600000,
	        success: function (data) {
	        	
	           window.location='./changepassword'

	        },
	        error: function (e) {
	        	 var json = "<h4>Response Error: Error in redirecting.";
	        	// document.getElementById("feedback").style.color = "red";
	             $('#feedback').html(json);

	        }
	    });
	
}
function clickonlogin(){
	  event.preventDefault();
if($("#username").val()=='' || $("#password").val()==''){
	document.getElementById("feedback").style.color = "red";
    $('#feedback').html("Validation Error: User name and Password can not be empty!");
    return false;
}
    var loginForm = {}
    loginForm["username"] = $("#username").val();
    loginForm["password"] = $("#password").val();

    $("#btn-login").prop("disabled", true);
    
    $.ajax({
        type: "POST",
        contentType: "application/json",
        url: "./login",
        data: JSON.stringify(loginForm),
        dataType: 'json',
        cache: false,
        timeout: 600000,
        success: function (data) {
        	
            	
        	window.location='./index';
        },
        error: function (e) {
        	
        	/*  document.getElementById("feedback").style.color = "red";
            var json = "<h4>Response Error: Incorrect credentials.</h4><pre>"
                + e.responseText + "</pre>";
               
            $('#feedback').html(json); */
            document.getElementById("feedback").style.color = "red";
            $('#feedback').html("Response Error: Incorrect credentials."+e.responseText);

            console.log("ERROR : ", e);
            $("#btn-login").prop("disabled", false);

        }
    });
    
}</script>

</body>
</html>